fragment ProductListItem on Product {
    id
    name
    price
    type
    brand {
        name
    }
    services {
        id
        name
        price
    }
    stock {
        office {
            id
        }
        stock
    }
}

query products($page: Int, $query: String) {
    products(page: $page, query: $query) {
        count
        numPages
        results {
            ...ProductListItem
        }
    }
}

mutation createProduct($productData: CreateProductInput!) {
    createProduct(productData: $productData) {
        product {
            ...ProductListItem
        }
        error
    }
}

query productsStocksByOfficeId($officeId: ID!) {
    productsStocksByOfficeId(officeId: $officeId) {
        id
        product {
            id
            name
        }
        stock
    }
}

query productsSuppliedBySupplierId($supplierId: ID!) {
    productsSuppliedBySupplierId(supplierId: $supplierId) {
        id
        name
        price
    }
}

mutation deleteProduct($id: ID!) {
    deleteProduct(id: $id) {
        success
    }
}

query allProducts {
    allProducts {
        ...ProductListItem
    }
}

query productExists($sku: String!) {
    productExists(sku: $sku)
}

mutation updateProduct($id: ID!, $productData: UpdateProductInput!) {
    updateProduct(id: $id, productData: $productData) {
        product {
            ...SingleProduct
        }
        error
    }
}

query productById($id: ID!) {
    productById(id: $id) {
        ...SingleProduct
    }
}

fragment SingleProduct on Product {
    id
    sku
    name
    description
    brand {
        id
        name
    }
    type
    price
    stock {
        office {
            id
            name
            locality {
                state
                postalCode
                name
            }
        }
        stock
    }
    services {
        id
        name
        price
    }
    suppliers {
        id
        supplier {
            id
            name
        }
        price
    }
}
