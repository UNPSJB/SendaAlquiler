query contracts($page: Int) {
    contracts(page: $page) {
        count
        numPages
        results {
            id
            client {
                firstName
                lastName
            }
            office {
                name
            }
            createdOn
            contractStartDatetime
            contractEndDatetime
            latestHistoryEntry {
                status
            }
        }
    }
}

query contractById($id: ID!) {
    contractById(id: $id) {
        client {
            firstName
            dni
            email
            houseNumber
            houseUnit
            lastName
            locality {
                name
                state
                postalCode
            }
            phoneNumber
            phoneCode
            streetName
        }
        contractEndDatetime
        contractStartDatetime
        latestHistoryEntry {
            status
        }
        expirationDate
        houseNumber
        houseUnit
        office {
            name
            street
            houseNumber
        }
        streetName
        total
        numberOfRentalDays
        contractItems {
            id

            product {
                brand {
                    name
                }
                name
                sku
            }
            productPrice

            serviceItems {
                service {
                    name
                    price
                }
            }

            quantity

            productSubtotal
            servicesSubtotal
            shippingSubtotal

            productDiscount
            servicesDiscount
            shippingDiscount

            total
        }
    }
}

mutation CreateContract(
    $contractData: ContractInput!
    $itemsData: [ContractItemInput!]!
) {
    createContract(contractData: $contractData, itemsData: $itemsData) {
        contractId
        error
    }
}

mutation deleteContract($id: ID!) {
    deleteContract(id: $id) {
        success
    }
}

mutation payContractDeposit($id: ID!) {
    payContractDeposit(id: $id) {
        contract {
            id
            latestHistoryEntry {
                status
            }
        }
        error
    }
}

mutation payTotalContract($id: ID!) {
    payTotalContract(id: $id) {
        contract {
            id
            latestHistoryEntry {
                status
            }
        }
        error
    }
}

mutation cancelContract($id: ID!) {
    cancelContract(id: $id) {
        contract {
            id
            latestHistoryEntry {
                status
            }
        }
        error
    }
}
